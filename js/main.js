!function(e){var t={};function a(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(o,i,function(t){return e[t]}.bind(null,i));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=6)}([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";function o(e){try{if(!e)throw"error: routes param is mandatory";this.constructor(e),this.init()}catch(e){console.error(e)}}a.r(t),o.prototype={routes:void 0,rootElem:void 0,constructor(e){this.routes=e,this.rootElem=document.getElementById("app")},init(){const e=this.routes;!function(e,t){window.addEventListener("hashchange",a=>{e.hasChanged(e,t)})}(this,e),this.hasChanged(this,e)},hasChanged(e,t){if(window.location.hash.length>0)for(var a=0,{length:o}=t;a<o;a++){(i=t[a]).isActiveRoute(window.location.hash.substr(1))&&e.goToRoute(i.htmlName)}else{a=0;for(var{length:o}=t;a<o;a++){var i;(i=t[a]).default&&e.goToRoute(i.htmlName)}}},goToRoute(e,t){!function(a){const o=`views/${e}`,i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&(a.rootElem.innerHTML=this.responseText)},i.open("GET",o,!0),i.send(),i.onload=function(e){4===i.readyState&&200===i.status&&"function"==typeof t&&t()}}(this)}};var i=o;function n(e,t,a){try{if(!e||!t)throw"error: name and htmlName params are mandatories";this.constructor(e,t,a)}catch(e){console.error(e)}}n.prototype={name:void 0,htmlName:void 0,default:void 0,constructor(e,t,a){this.name=e,this.htmlName=t,this.default=a},isActiveRoute(e){return e.replace("#","")===this.name}};var s=n;a(0);var d={set(e,t){localStorage.setItem(e,t)},get:e=>localStorage.getItem(e)?localStorage.getItem(e):null,setObject(e,t){localStorage.setItem(e,JSON.stringify(t))},getObject:e=>JSON.parse(localStorage.getItem(e))?JSON.parse(localStorage.getItem(e)):null,remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}};var c={app:{id:1139053,hash:"460fe61f384ea26d9baf5846273f4338",version:"1.0.0"},server:{test:[{id:1,host:"149.154.175.10",port:80},{id:2,host:"149.154.167.40",port:443},{id:3,host:"149.154.175.117",port:80}],production:[{id:1,host:"149.154.175.50",port:80},{id:2,host:"149.154.167.50",port:80},{id:3,host:"149.154.175.100",port:80},{id:4,host:"1149.154.167.50",port:80},{id:5,host:"149.154.171.5",port:80}],https:[{id:1,host:"pluto.web.telegram.org",port:80},{id:2,host:"venus.web.telegram.org",port:80},{id:3,host:"aurora.web.telegram.org",port:80},{id:4,host:"vesta.web.telegram.org",port:80},{id:5,host:"flora.web.telegram.org",port:80}]}};const m=e=>+e<10?`0${e}`:e,r=e=>{const t=new Date(1e3*e);return`${m(t.getHours())}:${m(t.getMinutes())}`};function l(e){const t=new Date(1e3*e),a=new Date;let o="";if(a-t<864e5)o=r(e);else if(a-t<6048e5){o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]}else{const e=m(t.getMonth()+1);o=`${m(t.getDate())}.${e}.${`${t.getFullYear()}`.replace("20","")}`}return o}function h(e,t){const a=e.split(" ");let o=0;return a.forEach(e=>{e===t&&o++}),0===o&&a.push(t),a.join(" ")}function u(e,t){return e.split(" ").map(e=>e===t?"":e).join(" ")}const _=[{name:"Afghanistan",dial_code:"+93",code:"AF",emoji:"ğŸ‡¦ğŸ‡«"},{name:"Aland Islands",dial_code:"+358",code:"AX",emoji:"ğŸ‡¦ğŸ‡½"},{name:"Albania",dial_code:"+355",code:"AL",emoji:"ğŸ‡¦ğŸ‡±"},{name:"Algeria",dial_code:"+213",code:"DZ",emoji:"ğŸ‡©ğŸ‡¿"},{name:"American Samoa",dial_code:"+1 684",code:"AS",emoji:"ğŸ‡¦ğŸ‡¸"},{name:"Andorra",dial_code:"+376",code:"AD",emoji:"ğŸ‡¦ğŸ‡©"},{name:"Angola",dial_code:"+244",code:"AO",emoji:"ğŸ‡¦ğŸ‡´"},{name:"Anguilla",dial_code:"+1 264",code:"AI",emoji:"ğŸ‡¦ğŸ‡®"},{name:"Antarctica",dial_code:"+672",code:"AQ",emoji:"ğŸ‡¦ğŸ‡¶"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",emoji:"ğŸ‡¦ğŸ‡¬"},{name:"Argentina",dial_code:"+54",code:"AR",emoji:"ğŸ‡¦ğŸ‡·"},{name:"Armenia",dial_code:"+374",code:"AM",emoji:"ğŸ‡¦ğŸ‡²"},{name:"Aruba",dial_code:"+297",code:"AW",emoji:"ğŸ‡¦ğŸ‡¼"},{name:"Australia",dial_code:"+61",code:"AU",emoji:"ğŸ‡¦ğŸ‡º"},{name:"Austria",dial_code:"+43",code:"AT",emoji:"ğŸ‡¦ğŸ‡¹"},{name:"Azerbaijan",dial_code:"+994",code:"AZ",emoji:"ğŸ‡¦ğŸ‡¿"},{name:"Bahamas",dial_code:"+1 242",code:"BS",emoji:"ğŸ‡§ğŸ‡¸"},{name:"Bahrain",dial_code:"+973",code:"BH",emoji:"ğŸ‡§ğŸ‡­"},{name:"Bangladesh",dial_code:"+880",code:"BD",emoji:"ğŸ‡§ğŸ‡©"},{name:"Barbados",dial_code:"+1 246",code:"BB",emoji:"ğŸ‡§ğŸ‡§"},{name:"Belarus",dial_code:"+375",code:"BY",emoji:"ğŸ‡§ğŸ‡¾"},{name:"Belgium",dial_code:"+32",code:"BE",emoji:"ğŸ‡§ğŸ‡ª"},{name:"Belize",dial_code:"+501",code:"BZ",emoji:"ğŸ‡§ğŸ‡¿"},{name:"Benin",dial_code:"+229",code:"BJ",emoji:"ğŸ‡§ğŸ‡¯"},{name:"Bermuda",dial_code:"+1 441",code:"BM",emoji:"ğŸ‡§ğŸ‡²"},{name:"Bhutan",dial_code:"+975",code:"BT",emoji:"ğŸ‡§ğŸ‡¹"},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO",emoji:"ğŸ‡§ğŸ‡´"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",emoji:"ğŸ‡§ğŸ‡¦"},{name:"Botswana",dial_code:"+267",code:"BW",emoji:"ğŸ‡§ğŸ‡¼"},{name:"Brazil",dial_code:"+55",code:"BR",emoji:"ğŸ‡§ğŸ‡·"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",emoji:"ğŸ‡®ğŸ‡´"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN",emoji:"ğŸ‡§ğŸ‡³"},{name:"Bulgaria",dial_code:"+359",code:"BG",emoji:"ğŸ‡§ğŸ‡¬"},{name:"Burkina Faso",dial_code:"+226",code:"BF",emoji:"ğŸ‡§ğŸ‡«"},{name:"Burundi",dial_code:"+257",code:"BI",emoji:"ğŸ‡§ğŸ‡®"},{name:"Cambodia",dial_code:"+855",code:"KH",emoji:"ğŸ‡°ğŸ‡­"},{name:"Cameroon",dial_code:"+237",code:"CM",emoji:"ğŸ‡¨ğŸ‡²"},{name:"Canada",dial_code:"+1",code:"CA",emoji:"ğŸ‡¨ğŸ‡¦"},{name:"Cape Verde",dial_code:"+238",code:"CV",emoji:"ğŸ‡¨ğŸ‡»"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY",emoji:"ğŸ‡°ğŸ‡¾"},{name:"Central African Republic",dial_code:"+236",code:"CF",emoji:"ğŸ‡¨ğŸ‡«"},{name:"Chad",dial_code:"+235",code:"TD",emoji:"ğŸ‡¹ğŸ‡©"},{name:"Chile",dial_code:"+56",code:"CL",emoji:"ğŸ‡¨ğŸ‡±"},{name:"China",dial_code:"+86",code:"CN",emoji:"ğŸ‡¨ğŸ‡³"},{name:"Christmas Island",dial_code:"+61",code:"CX",emoji:"ğŸ‡¨ğŸ‡½"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",emoji:"ğŸ‡¨ğŸ‡¨"},{name:"Colombia",dial_code:"+57",code:"CO",emoji:"ğŸ‡¨ğŸ‡´"},{name:"Comoros",dial_code:"+269",code:"KM",emoji:"ğŸ‡°ğŸ‡²"},{name:"Congo",dial_code:"+242",code:"CG",emoji:"ğŸ‡¨ğŸ‡©"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD",emoji:"ğŸ‡¨ğŸ‡¬"},{name:"Cook Islands",dial_code:"+682",code:"CK",emoji:"ğŸ‡¨ğŸ‡°"},{name:"Costa Rica",dial_code:"+506",code:"CR",emoji:"ğŸ‡¨ğŸ‡·"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",emoji:"ğŸ‡¨ğŸ‡®"},{name:"Croatia",dial_code:"+385",code:"HR",emoji:"ğŸ‡­ğŸ‡·"},{name:"Cuba",dial_code:"+53",code:"CU",emoji:"ğŸ‡¨ğŸ‡º"},{name:"Cyprus",dial_code:"+357",code:"CY",emoji:"ğŸ‡¨ğŸ‡¾"},{name:"Czech Republic",dial_code:"+420",code:"CZ",emoji:"ğŸ‡¨ğŸ‡¿"},{name:"Denmark",dial_code:"+45",code:"DK",emoji:"ğŸ‡©ğŸ‡°"},{name:"Djibouti",dial_code:"+253",code:"DJ",emoji:"ğŸ‡©ğŸ‡¯"},{name:"Dominica",dial_code:"+1 767",code:"DM",emoji:"ğŸ‡©ğŸ‡²"},{name:"Dominican Republic",dial_code:"+1 849",code:"DO",emoji:"ğŸ‡©ğŸ‡´"},{name:"Ecuador",dial_code:"+593",code:"EC",emoji:"ğŸ‡ªğŸ‡¨"},{name:"Egypt",dial_code:"+20",code:"EG",emoji:"ğŸ‡ªğŸ‡¬"},{name:"El Salvador",dial_code:"+503",code:"SV",emoji:"ğŸ‡¸ğŸ‡»"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",emoji:"ğŸ‡¬ğŸ‡¶"},{name:"Eritrea",dial_code:"+291",code:"ER",emoji:"ğŸ‡ªğŸ‡·"},{name:"Estonia",dial_code:"+372",code:"EE",emoji:"ğŸ‡ªğŸ‡ª"},{name:"Ethiopia",dial_code:"+251",code:"ET",emoji:"ğŸ‡ªğŸ‡¹"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",emoji:"ğŸ‡«ğŸ‡°"},{name:"Faroe Islands",dial_code:"+298",code:"FO",emoji:"ğŸ‡«ğŸ‡´"},{name:"Fiji",dial_code:"+679",code:"FJ",emoji:"ğŸ‡«ğŸ‡¯"},{name:"Finland",dial_code:"+358",code:"FI",emoji:"ğŸ‡«ğŸ‡®"},{name:"France",dial_code:"+33",code:"FR",emoji:"ğŸ‡«ğŸ‡·"},{name:"French Guiana",dial_code:"+594",code:"GF",emoji:"ğŸ‡¬ğŸ‡«"},{name:"French Polynesia",dial_code:"+689",code:"PF",emoji:"ğŸ‡µğŸ‡«"},{name:"Gabon",dial_code:"+241",code:"GA",emoji:"ğŸ‡¬ğŸ‡¦"},{name:"Gambia",dial_code:"+220",code:"GM",emoji:"ğŸ‡¬ğŸ‡²"},{name:"Georgia",dial_code:"+995",code:"GE",emoji:"ğŸ‡¬ğŸ‡ª"},{name:"Germany",dial_code:"+49",code:"DE",emoji:"ğŸ‡©ğŸ‡ª"},{name:"Ghana",dial_code:"+233",code:"GH",emoji:"ğŸ‡¬ğŸ‡­"},{name:"Gibraltar",dial_code:"+350",code:"GI",emoji:"ğŸ‡¬ğŸ‡®"},{name:"Greece",dial_code:"+30",code:"GR",emoji:"ğŸ‡¬ğŸ‡·"},{name:"Greenland",dial_code:"+299",code:"GL",emoji:"ğŸ‡¬ğŸ‡±"},{name:"Grenada",dial_code:"+1 473",code:"GD",emoji:"ğŸ‡¬ğŸ‡©"},{name:"Guadeloupe",dial_code:"+590",code:"GP",emoji:"ğŸ‡¬ğŸ‡µ"},{name:"Guam",dial_code:"+1 671",code:"GU",emoji:"ğŸ‡¬ğŸ‡º"},{name:"Guatemala",dial_code:"+502",code:"GT",emoji:"ğŸ‡¬ğŸ‡¹"},{name:"Guernsey",dial_code:"+44",code:"GG",emoji:"ğŸ‡¬ğŸ‡¬"},{name:"Guinea",dial_code:"+224",code:"GN",emoji:"ğŸ‡¬ğŸ‡³"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW",emoji:"ğŸ‡¬ğŸ‡¼"},{name:"Guyana",dial_code:"+595",code:"GY",emoji:"ğŸ‡¬ğŸ‡¾"},{name:"Haiti",dial_code:"+509",code:"HT",emoji:"ğŸ‡­ğŸ‡¹"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA",emoji:"ğŸ‡»ğŸ‡¦"},{name:"Honduras",dial_code:"+504",code:"HN",emoji:"ğŸ‡­ğŸ‡³"},{name:"Hong Kong",dial_code:"+852",code:"HK",emoji:"ğŸ‡­ğŸ‡°"},{name:"Hungary",dial_code:"+36",code:"HU",emoji:"ğŸ‡­ğŸ‡º"},{name:"Iceland",dial_code:"+354",code:"IS",emoji:"ğŸ‡®ğŸ‡¸"},{name:"India",dial_code:"+91",code:"IN",emoji:"ğŸ‡®ğŸ‡³"},{name:"Indonesia",dial_code:"+62",code:"ID",emoji:"ğŸ‡®ğŸ‡©"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR",emoji:"ğŸ‡®ğŸ‡·"},{name:"Iraq",dial_code:"+964",code:"IQ",emoji:"ğŸ‡®ğŸ‡¶"},{name:"Ireland",dial_code:"+353",code:"IE",emoji:"ğŸ‡®ğŸ‡ª"},{name:"Isle of Man",dial_code:"+44",code:"IM",emoji:"ğŸ‡®ğŸ‡²"},{name:"Israel",dial_code:"+972",code:"IL",emoji:"ğŸ‡®ğŸ‡±"},{name:"Italy",dial_code:"+39",code:"IT",emoji:"ğŸ‡®ğŸ‡¹"},{name:"Jamaica",dial_code:"+1 876",code:"JM",emoji:"ğŸ‡¯ğŸ‡²"},{name:"Japan",dial_code:"+81",code:"JP",emoji:"ğŸ‡¯ğŸ‡µ"},{name:"Jersey",dial_code:"+44",code:"JE",emoji:"ğŸ‡¯ğŸ‡ª"},{name:"Jordan",dial_code:"+962",code:"JO",emoji:"ğŸ‡¯ğŸ‡´"},{name:"Kazakhstan",dial_code:"+7 7",code:"KZ",emoji:"ğŸ‡°ğŸ‡¿"},{name:"Kenya",dial_code:"+254",code:"KE",emoji:"ğŸ‡°ğŸ‡ª"},{name:"Kiribati",dial_code:"+686",code:"KI",emoji:"ğŸ‡°ğŸ‡®"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP",emoji:"ğŸ‡°ğŸ‡µ"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR",emoji:"ğŸ‡°ğŸ‡·"},{name:"Kuwait",dial_code:"+965",code:"KW",emoji:"ğŸ‡°ğŸ‡¼"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG",emoji:"ğŸ‡°ğŸ‡¬"},{name:"Laos",dial_code:"+856",code:"LA",emoji:"ğŸ‡±ğŸ‡¦"},{name:"Latvia",dial_code:"+371",code:"LV",emoji:"ğŸ‡±ğŸ‡»"},{name:"Lebanon",dial_code:"+961",code:"LB",emoji:"ğŸ‡±ğŸ‡§"},{name:"Lesotho",dial_code:"+266",code:"LS",emoji:"ğŸ‡±ğŸ‡¸"},{name:"Liberia",dial_code:"+231",code:"LR",emoji:"ğŸ‡±ğŸ‡·"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",emoji:"ğŸ‡±ğŸ‡¾"},{name:"Liechtenstein",dial_code:"+423",code:"LI",emoji:"ğŸ‡±ğŸ‡®"},{name:"Lithuania",dial_code:"+370",code:"LT",emoji:"ğŸ‡±ğŸ‡¹"},{name:"Luxembourg",dial_code:"+352",code:"LU",emoji:"ğŸ‡±ğŸ‡º"},{name:"Macao",dial_code:"+853",code:"MO",emoji:"ğŸ‡²ğŸ‡´"},{name:"Macedonia",dial_code:"+389",code:"MK",emoji:"ğŸ‡²ğŸ‡°"},{name:"Madagascar",dial_code:"+261",code:"MG",emoji:"ğŸ‡²ğŸ‡¬"},{name:"Malawi",dial_code:"+265",code:"MW",emoji:"ğŸ‡²ğŸ‡¼"},{name:"Malaysia",dial_code:"+60",code:"MY",emoji:"ğŸ‡²ğŸ‡¾"},{name:"Maldives",dial_code:"+960",code:"MV",emoji:"ğŸ‡²ğŸ‡»"},{name:"Mali",dial_code:"+223",code:"ML",emoji:"ğŸ‡²ğŸ‡±"},{name:"Malta",dial_code:"+356",code:"MT",emoji:"ğŸ‡²ğŸ‡¹"},{name:"Marshall Islands",dial_code:"+692",code:"MH",emoji:"ğŸ‡²ğŸ‡­"},{name:"Martinique",dial_code:"+596",code:"MQ",emoji:"ğŸ‡²ğŸ‡¶"},{name:"Mauritania",dial_code:"+222",code:"MR",emoji:"ğŸ‡²ğŸ‡·"},{name:"Mauritius",dial_code:"+230",code:"MU",emoji:"ğŸ‡²ğŸ‡º"},{name:"Mayotte",dial_code:"+262",code:"YT",emoji:"ğŸ‡¾ğŸ‡¹"},{name:"Mexico",dial_code:"+52",code:"MX",emoji:"ğŸ‡²ğŸ‡½"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM",emoji:"ğŸ‡«ğŸ‡²"},{name:"Moldova",dial_code:"+373",code:"MD",emoji:"ğŸ‡²ğŸ‡©"},{name:"Monaco",dial_code:"+377",code:"MC",emoji:"ğŸ‡²ğŸ‡¨"},{name:"Mongolia",dial_code:"+976",code:"MN",emoji:"ğŸ‡²ğŸ‡³"},{name:"Montenegro",dial_code:"+382",code:"ME",emoji:"ğŸ‡²ğŸ‡ª"},{name:"Montserrat",dial_code:"+1664",code:"MS",emoji:"ğŸ‡²ğŸ‡¸"},{name:"Morocco",dial_code:"+212",code:"MA",emoji:"ğŸ‡²ğŸ‡¦"},{name:"Mozambique",dial_code:"+258",code:"MZ",emoji:"ğŸ‡²ğŸ‡¿"},{name:"Myanmar",dial_code:"+95",code:"MM",emoji:"ğŸ‡²ğŸ‡²"},{name:"Namibia",dial_code:"+264",code:"NA",emoji:"ğŸ‡³ğŸ‡¦"},{name:"Nauru",dial_code:"+674",code:"NR",emoji:"ğŸ‡³ğŸ‡·"},{name:"Nepal",dial_code:"+977",code:"NP",emoji:"ğŸ‡³ğŸ‡µ"},{name:"Netherlands",dial_code:"+31",code:"NL",emoji:"ğŸ‡³ğŸ‡±"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN",emoji:"ğŸ‡§ğŸ‡¶"},{name:"New Caledonia",dial_code:"+687",code:"NC",emoji:"ğŸ‡³ğŸ‡¨"},{name:"New Zealand",dial_code:"+64",code:"NZ",emoji:"ğŸ‡³ğŸ‡¿"},{name:"Nicaragua",dial_code:"+505",code:"NI",emoji:"ğŸ‡³ğŸ‡®"},{name:"Niger",dial_code:"+227",code:"NE",emoji:"ğŸ‡³ğŸ‡ª"},{name:"Nigeria",dial_code:"+234",code:"NG",emoji:"ğŸ‡³ğŸ‡¬"},{name:"Niue",dial_code:"+683",code:"NU",emoji:"ğŸ‡³ğŸ‡º"},{name:"Norfolk Island",dial_code:"+672",code:"NF",emoji:"ğŸ‡³ğŸ‡«"},{name:"Northern Mariana Islands",dial_code:"+1 670",code:"MP",emoji:"ğŸ‡²ğŸ‡µ"},{name:"Norway",dial_code:"+47",code:"NO",emoji:"ğŸ‡³ğŸ‡´"},{name:"Oman",dial_code:"+968",code:"OM",emoji:"ğŸ‡´ğŸ‡²"},{name:"Pakistan",dial_code:"+92",code:"PK",emoji:"ğŸ‡µğŸ‡°"},{name:"Palau",dial_code:"+680",code:"PW",emoji:"ğŸ‡µğŸ‡¼"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",emoji:"ğŸ‡µğŸ‡¸"},{name:"Panama",dial_code:"+507",code:"PA",emoji:"ğŸ‡µğŸ‡¦"},{name:"Papua New Guinea",dial_code:"+675",code:"PG",emoji:"ğŸ‡µğŸ‡¬"},{name:"Paraguay",dial_code:"+595",code:"PY",emoji:"ğŸ‡µğŸ‡¾"},{name:"Peru",dial_code:"+51",code:"PE",emoji:"ğŸ‡µğŸ‡ª"},{name:"Philippines",dial_code:"+63",code:"PH",emoji:"ğŸ‡µğŸ‡­"},{name:"Pitcairn",dial_code:"+872",code:"PN",emoji:"ğŸ‡µğŸ‡³"},{name:"Poland",dial_code:"+48",code:"PL",emoji:"ğŸ‡µğŸ‡±"},{name:"Portugal",dial_code:"+351",code:"PT",emoji:"ğŸ‡µğŸ‡¹"},{name:"Puerto Rico",dial_code:"+1 939",code:"PR",emoji:"ğŸ‡µğŸ‡·"},{name:"Qatar",dial_code:"+974",code:"QA",emoji:"ğŸ‡¶ğŸ‡¦"},{name:"Romania",dial_code:"+40",code:"RO",emoji:"ğŸ‡·ğŸ‡´"},{name:"Russia",dial_code:"+7",code:"RU",emoji:"ğŸ‡·ğŸ‡º"},{name:"Rwanda",dial_code:"+250",code:"RW",emoji:"ğŸ‡·ğŸ‡¼"},{name:"Reunion",dial_code:"+262",code:"RE",emoji:"ğŸ‡·ğŸ‡ª"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL",emoji:"ğŸ‡§ğŸ‡±"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH",emoji:"ğŸ‡¸ğŸ‡­"},{name:"Saint Kitts and Nevis",dial_code:"+1 869",code:"KN",emoji:"ğŸ‡°ğŸ‡³"},{name:"Saint Lucia",dial_code:"+1 758",code:"LC",emoji:"ğŸ‡±ğŸ‡¨"},{name:"Saint Martin",dial_code:"+590",code:"MF",emoji:"ğŸ‡²ğŸ‡«"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",emoji:"ğŸ‡µğŸ‡²"},{name:"Saint Vincent and the Grenadines",dial_code:"+1 784",code:"VC",emoji:"ğŸ‡»ğŸ‡¨"},{name:"Samoa",dial_code:"+685",code:"WS",emoji:"ğŸ‡¼ğŸ‡¸"},{name:"San Marino",dial_code:"+378",code:"SM",emoji:"ğŸ‡¸ğŸ‡²"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",emoji:"ğŸ‡¸ğŸ‡¹"},{name:"Saudi Arabia",dial_code:"+966",code:"SA",emoji:"ğŸ‡¸ğŸ‡¦"},{name:"Senegal",dial_code:"+221",code:"SN",emoji:"ğŸ‡¸ğŸ‡³"},{name:"Serbia",dial_code:"+381",code:"RS",emoji:"ğŸ‡·ğŸ‡¸"},{name:"Seychelles",dial_code:"+248",code:"SC",emoji:"ğŸ‡¸ğŸ‡¨"},{name:"Sierra Leone",dial_code:"+232",code:"SL",emoji:"ğŸ‡¸ğŸ‡±"},{name:"Singapore",dial_code:"+65",code:"SG",emoji:"ğŸ‡¸ğŸ‡¬"},{name:"Slovakia",dial_code:"+421",code:"SK",emoji:"ğŸ‡¸ğŸ‡°"},{name:"Slovenia",dial_code:"+386",code:"SI",emoji:"ğŸ‡¸ğŸ‡®"},{name:"Solomon Islands",dial_code:"+677",code:"SB",emoji:"ğŸ‡¸ğŸ‡§"},{name:"Somalia",dial_code:"+252",code:"SO",emoji:"ğŸ‡¸ğŸ‡´"},{name:"South Africa",dial_code:"+27",code:"ZA",emoji:"ğŸ‡¿ğŸ‡¦"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS",emoji:"ğŸ‡¬ğŸ‡¸"},{name:"Spain",dial_code:"+34",code:"ES",emoji:"ğŸ‡ªğŸ‡¸"},{name:"Sri Lanka",dial_code:"+94",code:"LK",emoji:"ğŸ‡±ğŸ‡°"},{name:"Sudan",dial_code:"+249",code:"SD",emoji:"ğŸ‡¸ğŸ‡©"},{name:"Suriname",dial_code:"+597",code:"SR",emoji:"ğŸ‡¸ğŸ‡·"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ",emoji:"ğŸ‡¸ğŸ‡¯"},{name:"Swaziland",dial_code:"+268",code:"SZ",emoji:"ğŸ‡¸ğŸ‡¿"},{name:"Sweden",dial_code:"+46",code:"SE",emoji:"ğŸ‡¸ğŸ‡ª"},{name:"Switzerland",dial_code:"+41",code:"CH",emoji:"ğŸ‡¨ğŸ‡­"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",emoji:"ğŸ‡¸ğŸ‡¾"},{name:"Taiwan",dial_code:"+886",code:"TW",emoji:"ğŸ‡¹ğŸ‡¼"},{name:"Tajikistan",dial_code:"+992",code:"TJ",emoji:"ğŸ‡¹ğŸ‡¯"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ",emoji:"ğŸ‡¹ğŸ‡¿"},{name:"Thailand",dial_code:"+66",code:"TH",emoji:"ğŸ‡¹ğŸ‡­"},{name:"Timor-Leste",dial_code:"+670",code:"TL",emoji:"ğŸ‡¹ğŸ‡±"},{name:"Togo",dial_code:"+228",code:"TG",emoji:"ğŸ‡¹ğŸ‡¬"},{name:"Tokelau",dial_code:"+690",code:"TK",emoji:"ğŸ‡¹ğŸ‡°"},{name:"Tonga",dial_code:"+676",code:"TO",emoji:"ğŸ‡¹ğŸ‡´"},{name:"Trinidad and Tobago",dial_code:"+1 868",code:"TT",emoji:"ğŸ‡¹ğŸ‡¹"},{name:"Tunisia",dial_code:"+216",code:"TN",emoji:"ğŸ‡¹ğŸ‡³"},{name:"Turkey",dial_code:"+90",code:"TR",emoji:"ğŸ‡¹ğŸ‡·"},{name:"Turkmenistan",dial_code:"+993",code:"TM",emoji:"ğŸ‡¹ğŸ‡²"},{name:"Turks and Caicos Islands",dial_code:"+1 649",code:"TC",emoji:"ğŸ‡¹ğŸ‡¨"},{name:"Tuvalu",dial_code:"+688",code:"TV",emoji:"ğŸ‡¹ğŸ‡»"},{name:"Uganda",dial_code:"+256",code:"UG",emoji:"ğŸ‡ºğŸ‡¬"},{name:"Ukraine",dial_code:"+380",code:"UA",emoji:"ğŸ‡ºğŸ‡¦"},{name:"United Arab Emirates",dial_code:"+971",code:"AE",emoji:"ğŸ‡¦ğŸ‡ª"},{name:"United Kingdom",dial_code:"+44",code:"GB",emoji:"ğŸ‡¬ğŸ‡§"},{name:"United States",dial_code:"+1",code:"US",emoji:"ğŸ‡ºğŸ‡¸"},{name:"Uruguay",dial_code:"+598",code:"UY",emoji:"ğŸ‡ºğŸ‡¾"},{name:"Uzbekistan",dial_code:"+998",code:"UZ",emoji:"ğŸ‡ºğŸ‡¿"},{name:"Vanuatu",dial_code:"+678",code:"VU",emoji:"ğŸ‡»ğŸ‡º"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE",emoji:"ğŸ‡»ğŸ‡ª"},{name:"Vietnam",dial_code:"+84",code:"VN",emoji:"ğŸ‡»ğŸ‡³"},{name:"Virgin Islands, British",dial_code:"+1 284",code:"VG",emoji:"ğŸ‡»ğŸ‡¬"},{name:"Virgin Islands, U.S.",dial_code:"+1 340",code:"VI",emoji:"ğŸ‡»ğŸ‡®"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF",emoji:"ğŸ‡¼ğŸ‡«"},{name:"Yemen",dial_code:"+967",code:"YE",emoji:"ğŸ‡¾ğŸ‡ª"},{name:"Zambia",dial_code:"+260",code:"ZM",emoji:"ğŸ‡¿ğŸ‡²"},{name:"Zimbabwe",dial_code:"+263",code:"ZW",emoji:"ğŸ‡¿ğŸ‡¼"}];a(1);var g=class{constructor(){this.api=telegramApi,this.userAuth=d.getObject("user_auth"),this.limit=20,this.currentChatId=0,this.params="",this.scrollMessageId="",this.offset=0,this.messagesWereLoaded=!0,this.chatsOffset=0,this.chatsWereLoaded=!1,this.lastReadId=0,this.currentChatType=""}placeCaretAtEnd(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const a=window.getSelection();a.removeAllRanges(),a.addRange(t)}else if(void 0!==document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.collapse(!1),t.select()}}getTextForSendInput(e){let t=e.firstChild.nodeName,a=new RegExp("#text"===t?"<br":"</"+t,"i"),o=document.createElement("div");return o.innerHTML=e.innerHTML.replace(/<[^>]+>/g,(e,t)=>a.test(e)?"{ÃŸÂ®}":"").replace(/{ÃŸÂ®}$/,""),o.innerText.replace(/{ÃŸÂ®}/g,"\r\n")}sendMessage(){const e=this;this.currentChatId&&document.getElementById("sendInput").innerHTML&&this.api.sendMessage(this.currentChatId,this.getTextForSendInput(document.getElementById("sendInput"))).then((function(t){document.getElementById("sendInput").innerHTML="",e.onUpdate(t)}))}onKeyDownInput(e){if(console.log(e),"Enter"!==e.key||e.ctrlKey||(e.preventDefault(),this.sendMessage()),"Enter"===e.key&&e.ctrlKey){const t=document.getElementById("sendInput");e.preventDefault(),t.innerHTML=t.innerHTML+"<br/><br/>",this.placeCaretAtEnd(t)}}setChatInfo(e){const t=`avatar-${e.id}`,a=document.getElementById(t),o=a.cloneNode(),i=a.cloneNode();let n;o.innerHTML=a.innerHTML,i.innerHTML=a.innerHTML,n="user"===e.type?e.status?e.status:"service notifications":"chat"===e.type?e.members?`${e.members} members`:"chat":"channel",document.getElementById("chatInfo").innerHTML=`\n    <div class="im__info-container">\n      <div id="chatInfoItem" class="chat-panel__item">\n      <div class="chat-panel__item-title">\n        <div class="chat-panel__item-title-text">${e.title?e.title:""}</div>\n      </div>\n      ${n?`<div class="chat-panel__item-status">${n}</div>`:""}\n      </div>\n      ${"channel"===e.type||"chat"===e.type?`\n        ${e.mute?'\n        <div id="chatMute" class="icon">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M11,20 L13,20 C13.5522847,20 14,20.4477153 14,21 C14,21.5128358 13.6139598,21.9355072 13.1166211,21.9932723 L13,22 L11,22 C10.4477153,22 10,21.5522847 10,21 C10,20.4871642 10.3860402,20.0644928 10.8833789,20.0067277 L11,20 L13,20 L11,20 Z M12,2 C15.8659932,2 19,5.13400675 19,9 L19,14.6972244 L20.8320503,17.4452998 C21.2750868,18.1098545 20.7986954,19 20,19 L4,19 C3.20130462,19 2.72491322,18.1098545 3.16794971,17.4452998 L5,14.6972244 L5,9 C5,5.13400675 8.13400675,2 12,2 Z M12,4 C9.23857625,4 7,6.23857625 7,9 L7,14.6972244 C7,15.0920743 6.88312395,15.4780897 6.66410059,15.8066248 L5.86851709,17 L18.1314829,17 L17.3358994,15.8066248 C17.1168761,15.4780897 17,15.0920743 17,14.6972244 L17,9 C17,6.23857625 14.7614237,4 12,4 Z"/>\n            </g>\n          </svg>\n        </div>\n        ':'\n        <div id="chatMute" class="icon">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M11,20 L13,20 C13.5522847,20 14,20.4477153 14,21 C14,21.5128358 13.6139598,21.9355072 13.1166211,21.9932723 L13,22 L11,22 C10.4477153,22 10,21.5522847 10,21 C10,20.4871642 10.3860402,20.0644928 10.8833789,20.0067277 L11,20 L13,20 L11,20 Z M3.30352462,2.28241931 C3.6693482,1.92735525 4.23692991,1.908094 4.62462533,2.21893936 L4.71758069,2.30352462 L21.2175807,19.3035246 C21.6022334,19.6998335 21.5927842,20.332928 21.1964754,20.7175807 C20.8306518,21.0726447 20.2630701,21.091906 19.8753747,20.7810606 L19.7824193,20.6964754 L18.127874,18.9919007 L18,18.9999993 L4,18.9999993 C3.23933773,18.9999993 2.77101468,18.1926118 3.11084891,17.5416503 L3.16794971,17.4452998 L5,14.6972244 L5,8.9999993 C5,7.98873702 5.21529462,7.00715088 5.62359521,6.10821117 L3.28241931,3.69647538 C2.89776658,3.3001665 2.90721575,2.66707204 3.30352462,2.28241931 Z M7.00817933,8.71121787 L7,9 L7,14.6972244 C7,15.0356672 6.91413188,15.3676193 6.75167088,15.6624466 L6.66410059,15.8066248 L5.86851709,17 L16.1953186,17 L7.16961011,7.7028948 C7.08210009,8.02986218 7.02771758,8.36725335 7.00817933,8.71121787 Z M12,2 C15.7854517,2 18.8690987,5.00478338 18.995941,8.75935025 L19,9 L19,12 C19,12.5522847 18.5522847,13 18,13 C17.4871642,13 17.0644928,12.6139598 17.0067277,12.1166211 L17,12 L17,9 C17,6.23857625 14.7614237,4 12,4 C11.3902636,4 10.7970241,4.10872043 10.239851,4.31831953 C9.72293204,4.51277572 9.14624852,4.25136798 8.95179232,3.734449 C8.75733613,3.21753002 9.01874387,2.6408465 9.53566285,2.4463903 C10.3171048,2.15242503 11.1488212,2 12,2 Z"/>\n            </g>\n          </svg>\n        </div>'}`:""}\n      <div id="chatSearch" class="icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n          <g fill="none" fill-rule="evenodd">\n            <polygon points="0 0 24 0 24 24 0 24"/>\n            <path fill="#707579" fill-rule="nonzero" d="M9.5,3 C13.0898509,3 16,5.91014913 16,9.5 C16,10.9337106 15.5358211,12.2590065 14.7495478,13.3338028 L19.7071068,18.2928932 C20.0976311,18.6834175 20.0976311,19.3165825 19.7071068,19.7071068 C19.3466228,20.0675907 18.7793918,20.0953203 18.3871006,19.7902954 L18.2928932,19.7071068 L13.3338028,14.7495478 C12.2590065,15.5358211 10.9337106,16 9.5,16 C5.91014913,16 3,13.0898509 3,9.5 C3,5.91014913 5.91014913,3 9.5,3 Z M9.5,5 C7.01471863,5 5,7.01471863 5,9.5 C5,11.9852814 7.01471863,14 9.5,14 C11.9852814,14 14,11.9852814 14,9.5 C14,7.01471863 11.9852814,5 9.5,5 Z"/>\n          </g>\n        </svg>\n      </div>\n      <div id="chatMore" class="icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n          <g fill="none" fill-rule="evenodd">\n            <polygon points="0 0 24 0 24 24 0 24"/>\n            <path fill="#707579" fill-rule="nonzero" d="M12,16 C13.1045695,16 14,16.8954305 14,18 C14,19.1045695 13.1045695,20 12,20 C10.8954305,20 10,19.1045695 10,18 C10,16.8954305 10.8954305,16 12,16 Z M12,10 C13.1045695,10 14,10.8954305 14,12 C14,13.1045695 13.1045695,14 12,14 C10.8954305,14 10,13.1045695 10,12 C10,10.8954305 10.8954305,10 12,10 Z M12,4 C13.1045695,4 14,4.8954305 14,6 C14,7.1045695 13.1045695,8 12,8 C10.8954305,8 10,7.1045695 10,6 C10,4.8954305 10.8954305,4 12,4 Z"/>\n          </g>\n        </svg>\n      </div>\n    </div>`;const s=document.getElementById("chatInfoItem"),d=document.getElementById("rightBar"),c=document.getElementById("infoPageAvatar"),m=document.getElementById("infoPageTitle");s.prepend(o),s.addEventListener("click",()=>{d.className=h(d.className,"im__rightBar_open")}),document.getElementById("closeRightBar").addEventListener("click",()=>{d.className=u(d.className,"im__rightBar_open")}),setTimeout(()=>{i.className="info-page__avatar",c.innerHTML="",c.prepend(i),m.innerHTML=e.title},500)}setActiveChat(e){console.log("setActiveChat",e),document.querySelector(".chats__item_active")&&document.querySelector(".chats__item_active").classList.remove("chats__item_active"),document.getElementById("messages")&&(document.getElementById("messages").innerHTML=""),this.messagesWereLoaded=!0,document.getElementById(`chat-${e.id}`).classList.add("chats__item_active");const t={id:"user"===e.type?e.id:-e.id,type:e.type};this.currentChatId=t.id,this.currentChatType=e.type,this.lastReadId=e.lastReadId,this.loadMessages(t,!0),e.allowSend?document.getElementById("sendMessage").style.display="flex":document.getElementById("sendMessage").style.display="none";const a=document.getElementById("rightBar");a.className=u(a.className,"im__rightBar_open")}scrollMessages(){if(0===document.getElementById("messagesScroll").scrollTop&&!this.messagesWereLoaded){const e={...this.params,skip:this.offset};this.loadMessages(e)}}createLineBreaks(e){e.indexOf("\n")>0&&(e[e.indexOf("\n")]="<br/>",this.createLineBreaks(e))}getMessageContent(e,t){if(console.log("getMessageContent",e),e.message){const a=e.message.split("");return this.createLineBreaks(a),e.entities&&e.entities.forEach(t=>{const o=t.offset,i=t.offset+t.length-1;switch(t._){case"messageEntityBold":a[o]="<b>"+a[o],a[i]=a[i]+"</b>";break;case"messageEntityItalic":a[o]="<i>"+a[o],a[i]=a[i]+"</i>";break;case"messageEntityTextUrl":a[o]=`<a href="${t.url}" target="_blank">`+a[o],a[i]=a[i]+"</a>";break;case"messageEntityMention":{const t=e.message.substring(o,i+1);a[o]=`<a href="?mention=${t}">`+a[o],a[i]=a[i]+"</a>";break}case"messageEntityHashtag":{const t=e.message.substring(o,i+1);a[o]=`<a href="?hash=${t}">`+a[o],a[i]=a[i]+"</a>";break}case"messageEntityUrl":{const t=e.message.substring(o,i+1);a[o]=`<a href="${t}" target="_blank">`+a[o],a[i]=a[i]+"</a>";break}}}),`<div class="messages__item-text">\n                <span class="messages__item-text-content">${a.join("")}</span>\n                <span class="messages__item-time">\n                  ${t.date}\n                  ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                </span>\n              </div>`}if(e.media)switch(e.media._){case"messageMediaPhoto":{this.api.downloadPhoto(e.media.photo,()=>{},!1,1).then(t=>{const a=new Blob(t.bytes,{type:"octet/stream"});document.getElementById(`photo-${e.id}`).style.backgroundImage=`url(${URL.createObjectURL(a)})`}).catch(e=>e);let a="";if(e.media.caption){const t=e.media.caption.split("");this.createLineBreaks(t),a=t.join("")}const o=e.media.photo.sizes[e.media.photo.sizes.length-2],i=`padding-top: ${o.h/o.w*100}%`;return a?`<div class="messages__item-text messages__item-text_photo-cap">\n                      <div id="photo-${e.id}" style="${i}" class="image-container"></div>\n                      ${a?`<span class="messages__item-text-content" style="max-width: ${o.w}px">${a}</span>`:""}\n                      <span class="messages__item-time">\n                        ${t.date}\n                        ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                      </span>\n                    </div>`:`<div class="messages__item-text messages__item-text_photo">\n                      <div id="photo-${e.id}" style="${i}" class="image-container"></div>\n                      <span class="messages__item-time">\n                        ${t.date}\n                        ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read arrow-read_white"></div>':'<div class="arrow arrow_white"></div>'}`:""}\n                      </span>\n                    </div>`}case"messageMediaDocument":if(e.media.document.attributes[1]&&"documentAttributeSticker"===e.media.document.attributes[1]._){let a;if(e.media.document.thumb.bytes)a=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,e.media.document.thumb.bytes))}`;else{const t=e.media.document.thumb.location;t._="inputFileLocation",this.api.invokeApi("upload.getFile",{location:t,offset:0,limit:1048576}).then(t=>{console.log("response",t);const a=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,t.bytes))}`;document.getElementById(`sticker-${e.id}`).style.backgroundImage=`url(${a})`})}return`\n                <div id="sticker-${e.id}" class="sticker-container" \n                style="background-image: url(${a}); width: ${e.media.document.thumb.w}px; height: ${e.media.document.thumb.h}px">\n                  <span class="messages__item-time">\n                    ${t.date}\n                    ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read arrow-read_white"></div>':'<div class="arrow arrow_white"></div>'}`:""}\n                  </span>\n                </div>`}if(e.media.document.attributes[0]&&"documentAttributeFilename"===e.media.document.attributes[0]._){const a=e.media.document.attributes[0].file_name;let o={size:e.media.document.size,type:"B"};return o.size>10240&&(o.size=(o.size/1024).toFixed(2),o.type="Kb"),o.size>1024&&(o.size=(o.size/1024).toFixed(2),o.type="Mb"),o.size>1024&&(o.size=(o.size/1024).toFixed(2),o.type="Gb"),`<div class="messages__item-text">\n                <span class="messages__item-text-content">\n                  <div id="file-${e.id}" class="file">\n                    <div class="file__icon"></div>\n                    <div>\n                      <div class="file__title">${a}</div> \n                      <div class="file__size">${o.size}${o.type}</div> \n                    </div>\n                  </div>\n                </span>\n                <span class="messages__item-time" style="margin-top: -18px">\n                  ${t.date}\n                  ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                </span>\n              </div>`}}}downloadFile(e){console.log("downloadFile",e)}addMessage(e,t=!1,a=!1){const o=new Object({id:e.id,timestamp:e.date,date:r(e.date),is_outgoing:e.from_id===this.userAuth.id}),i=this.getMessageContent(e,o),n=document.createElement("div");if(n.className=`messages__item ${e.arrow?"messages__item_arrow":""} ${"channel"===this.currentChatType?"messages__item_channel":""}`,n.id=`message-${o.id}`,o.is_outgoing&&(n.className=`messages__item messages__item_out ${e.arrow?"messages__item_arrow":""} ${"channel"===this.currentChatType?"messages__item_channel":""}`),n.innerHTML=`\n    <div class="messages__item-avatar"></div>\n    ${i}`,t){document.getElementById("messages").append(n);const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}else if(document.getElementById("messages").prepend(n),a){const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}else{document.getElementById("messagesScroll").scrollTop=document.getElementById(`message-${this.scrollMessageId}`).offsetTop}}loadMessages(e,t=!1){t&&(this.offset=0),e.take=this.limit,this.params=e,this.api.getHistory(e).then(e=>{const{messages:a}=e;console.log("getMEssage",a),a.length<this.limit&&(this.messagesWereLoaded=!0),a[0].id&&(this.scrollMessageId=a[0].id);let o=0;if(a.forEach(e=>{o===e.from_id?e.arrow=!1:(e.arrow=!0,o=e.from_id),this.addMessage(e,!1,t)}),t){this.messagesWereLoaded=!1;const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}this.offset=this.offset+this.limit})}getChats(e,t=0){t||this.setChatLoader(!0),this.api.getDialogs(e,this.limit).then(e=>{const{result:a,offset:o}=e;console.log("getChats",e);const{dialogs:i,messages:n,chats:s,users:d}=a;i.length<this.limit&&(this.chatsWereLoaded=!0),this.chatsOffset=o,i.forEach(e=>{t?(t<0&&(t=-t),e.peer.channel_id!==t&&e.peer.user_id!==t&&e.peer.chat_id!==t||this.configureChat(e,n,s,d,!0)):this.configureChat(e,n,s,d)}),this.setChatLoader(!1)}).catch(e=>{this.setChatLoader(!1),console.error(e)})}setChatLoader(e){const t=document.getElementById("chatLoader");t.style.display=e?"flex":"none"}getStatus(e){switch(e._){case"userStatusOffline":return`last seen ${l(e.was_online)}`;case"userStatusRecently":return"last seen recently";case"userStatusOnline":return"<span>online</span>"}}configureChat(e,t,a,o,i=!1){const n=e.read_outbox_max_id>=e.read_inbox_max_id?e.read_outbox_max_id:e.read_inbox_max_id,s=new Object({arrow:"",arrowClass:n>=e.top_message?"arrow-read":"arrow",allowSend:!1,lastReadId:n,id:"",access_hash:"",avatar:"",title:"",message:"",mute:!!e.notify_settings.mute_until,peer:e.peer,pinned:!!e.pFlags.pinned,flags:e.flags,date:"",timestamp:"",type:"",myChat:!1,unread_count:e.unread_count,phone:"",status:"",members:"",username:""});if(t.forEach(t=>{e.top_message===t.id&&(s.arrow=t.from_id===this.userAuth.id,s.message=t,s.timestamp=t.date,s.date=l(t.date))}),"peerUser"===e.peer._?o.forEach(t=>{e.peer.user_id===t.id&&(s.id=t.id,s.title=`${t.first_name?t.first_name:""} ${t.last_name?t.last_name:""}`,s.access_hash=t.access_hash?t.access_hash:"",s.avatar=t.photo?t.photo.photo_small:"",s.type="user",s.phone=t.phone?t.phone:"",s.username=t.username?t.username:"",s.status=t.status?this.getStatus(t.status):"",s.allowSend=!0,t.pFlags.self&&(s.myChat=!0,s.title="Saved Messages"),t.pFlags.deleted&&(s.title="Deleted Account"))}):a.forEach(t=>{e.peer.channel_id!==t.id&&e.peer.chat_id!==t.id||(s.id=t.id,s.title=t.title,s.access_hash=t.access_hash?t.access_hash:"",s.avatar=t.photo?t.photo.photo_small:"",s.type=e.peer.channel_id?"channel":"chat",s.allowSend=!!e.peer.chat_id,s.members=t.participants_count?t.participants_count:"",s.username=t.username?t.username:"",t.pFlags.deactivated&&(s.id=0),(t.pFlags.creator||t.pFlags.democracy)&&(s.allowSend=!0))}),document.getElementById(`avatar-${s.id}`)&&(s.avatarNode=document.getElementById(`avatar-${s.id}`).cloneNode(),s.avatarNode.innerHTML=document.getElementById(`avatar-${s.id}`).innerHTML),s.id&&(this.addChat(s,i),!s.myChat&&(!i||document.getElementById(`avatar-${s.id}`))))if(s.avatar){const e=s.avatar;e._="inputFileLocation",this.api.invokeApi("upload.getFile",{location:e,offset:0,limit:1048576},{dcID:2,createNetworker:!0}).then(e=>{const t=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,e.bytes))}`;document.getElementById(`avatar-${s.id}`).style.backgroundImage=`url(${t})`}).catch(e=>{console.error(e),document.getElementById(`avatar-${s.id}`).innerHTML=this.getDefaultAvatarText(s.title),document.getElementById(`avatar-${s.id}`).style.backgroundColor=this.getRandomColor()})}else document.getElementById(`avatar-${s.id}`).innerHTML=this.getDefaultAvatarText(s.title),document.getElementById(`avatar-${s.id}`).style.backgroundColor=this.getRandomColor()}scrollChats(){const e=document.getElementById("chatsScroll");e.scrollHeight-e.offsetHeight===e.scrollTop&&(this.chatsWereLoaded||this.getChats(this.chatsOffset))}getMessage(e){if(e.message)return e.message;if(e.media){let t;switch(e.media._){case"messageMediaDocument":e.media.document.attributes?e.media.document.attributes.forEach(e=>{if(!t)switch(e._){case"documentAttributeSticker":t=e.alt+" Sticker";break;case"documentAttributeFilename":t=e.file_name;break;case"documentAttributeAudio":t=e.pFlags.voice?"Voice Message":"Audio"}}):t="Document";break;case"messageMediaPhoto":t=e.media.caption?`ğŸ–¼ï¸${e.media.caption}`:"Photo";break;case"messageMediaGeo":t="Location"}return t}if("messageService"===e._){let t;switch(e.action._){case"messageActionChatAddUser":t="join the group";break;case"messageActionCustomAction":t=e.action.message;break;case"messageActionChatMigrateTo":t="messageActionChatMigrateTo";break;case"messageActionChatDeleteUser":t="messageActionChatDeleteUser";break;case"messageActionChatEditTitle":t=`channel renamed to "${e.action.title}"`}return t}}getDefaultAvatarText(e){if(e){const t=e.split(" ");return 1===t.length?t[0].charAt(0)+t[0].charAt(1):t[0].charAt(0)+t[1].charAt(0)}return""}getRandomColor(){return["#28a745","#d73a49","#6f42c1","#0366d6","#f66a0a"][Math.floor(5*Math.random())]}addChat(e,t=!1){const a=`avatar-${e.id}`,o=document.createElement("div");o.className="chats__item",o.id=`chat-${e.id}`,o.innerHTML=`\n    ${e.avatarNode?"":`<div id='${a}' class="chats__item-avatar${e.myChat?" chats__item-avatar_saved":""}"></div>`}\n    <div class="chats__item-title">\n        <div class="chats__item-title-text" title="${e.title}">${e.title?e.title:""}</div>\n        ${e.mute?'<div class="chats__item-mute-icon"></div>':""}\n    </div>\n    <div class="chats__item-last">${e.arrow?"<span>You:</span> ":""}${this.getMessage(e.message)}</div>\n    <div class="chats__item-time">\n        ${e.arrow?`<div class="${e.arrowClass}"></div>`:""}\n        ${e.date}\n    </div>\n    ${e.pinned&&!e.unread_count?'<div class="chats__item-pinned"></div>':""}\n    ${e.unread_count?`<div class="chats__item-unread ${e.mute?"chats__item-unread_mute":""}">${e.unread_count}</div>`:""}`,o.addEventListener("click",()=>this.setActiveChat(e)),o.addEventListener("click",()=>this.setChatInfo(e)),e.avatarNode&&o.prepend(e.avatarNode),t?e.pinned?document.getElementById(`chat-${e.id}`)?document.getElementById(`chat-${e.id}`).innerHTML=o.innerHTML:document.getElementById("pinnedChats").prepend(o):(this.deleteChat(e.id),document.getElementById("chats").prepend(o)):e.pinned?document.getElementById("pinnedChats").append(o):document.getElementById("chats").append(o)}deleteChat(e){document.getElementById(`chat-${e}`)&&document.getElementById(`chat-${e}`).remove()}onUpdate(e){console.log("onUpdate",e,e._);const t=this;if("updates"===e._){const{updates:a}=e;a.forEach(e=>{e&&t.checkUpdate(e)})}else t.checkUpdate(e)}checkUpdate(e){switch(e._){case"updateNewMessage":{const{from_id:t,to_id:a}=e.message;if(a.chat_id)this.getChats(0,a.chat_id),-this.currentChatId===a.chat_id&&this.addMessage(e.message,!0);else{const o=t===this.userAuth.id?a.user_id:t;this.getChats(0,o),this.currentChatId===t&&this.addMessage(e.message,!0)}break}case"updateNewChannelMessage":{const{to_id:t}=e.message;this.getChats(0,t.channel_id),-this.currentChatId===t.channel_id&&this.addMessage(e.message,!0);break}case"updateShortMessage":this.getChats(0,e.user_id),this.currentChatId===e.user_id&&this.addMessage(e,!0);break;case"updateShortSentMessage":this.api.getMessages(e.id).then(e=>{const{messages:t}=e,a=t[0];"peerUser"===a.to_id._?this.getChats(0,a.to_id.user_id):"peerChat"===a.to_id._?this.getChats(0,a.to_id.chat_id):this.getChats(0,a.to_id.channel_id),this.addMessage(a,!0)}).catch(e=>{console.log(e)});break;case"updateShortChatMessage":this.getChats(0,e.chat_id),-this.currentChatId===e.chat_id&&this.addMessage(e,!0)}}render(){const e=this;this.setChatLoader(!0),this.userAuth?(this.getChats(),this.api.subscribe(this.userAuth.id,e=>this.onUpdate(e))):this.api.invokeApi("users.getFullUser",{id:{_:"inputUserSelf"}}).then((function(t){d.setObject("user_auth",t.user),e.userAuth=t.user,e.getChats(),e.api.subscribe(t.user.id,e=>selt.onUpdate(e))})),document.getElementById("chatsScroll").onscroll=()=>this.scrollChats(),document.getElementById("messagesScroll").onscroll=()=>this.scrollMessages(),document.getElementById("sendButton").addEventListener("click",()=>this.sendMessage()),document.getElementById("sendInput").addEventListener("keydown",e=>this.onKeyDownInput(e));const t=document.getElementById("chatsPanelDropDown");document.getElementById("chatsPanelMenu").addEventListener("click",()=>{"none"===t.style.display||""===t.style.display?t.style.display="flex":t.style.display="none"}),document.getElementById("logOut").addEventListener("click",()=>{this.api.logOut().then(e=>{console.log("logOut",e),d.remove("user_auth")})})}};var p=class{constructor(){this.client=telegramApi,this.options={dcID:2,createNetworker:!0}}getCountry(){return this.client.invokeApi("help.getNearestDc",{},this.options)}sendCode(e){const t={flags:0,phone_number:e,api_id:c.app.id,api_hash:c.app.hash,lang_code:"en"};return this.client.invokeApi("auth.sendCode",t,this.options)}checkConfirmCode(e,t,a){return this.client.signIn(e,t,a)}getPasswordState(){return this.client.invokeApi("account.getPassword",{},this.options)}checkPassword(e,t){return this.client.checkPasswordHash(e,t)}};a(2);var y=class{constructor(e,t){this.api=new p,this.router=e,this.salt=t,this.showPassword=!1}sendPasswordCode(e,t){this.api.checkPassword(this.salt,e).then(e=>{console.log("this.api.checkPassword !!!!!!!!!!!",e),this.router.goToRoute("im.html",()=>{(new g).render()})}).catch(e=>{console.error(e),t.className=h(t.className,"password__input_error")})}setLabel(e,t,a){e.length>0?(t.className=h(t.className,"password__input_active"),a.style.visibility="visible",a.style.opacity="0.5"):(t.className=u(t.className,"password__input_active"),a.style.opacity="0")}showPasswordCode(e,t,a){this.showPassword?(e.className="password__input-eye",t.className="password__img",a.type="password"):(e.className="password__input-eye password__input-eye_active",t.className="password__img password__img_show",a.type="text"),this.showPassword=!this.showPassword}render(){const e=document.getElementById("passwordInput"),t=document.getElementById("passwordEye"),a=document.getElementById("passwordImg"),o=document.getElementById("passwordCode"),i=document.getElementById("passwordButton");e.addEventListener("keyup",()=>this.setLabel(o.value,e,t)),i.addEventListener("click",()=>this.sendPasswordCode(o.value,e)),t.addEventListener("click",()=>this.showPasswordCode(t,a,o))}};a(3);var v=class{constructor(e,t,a){this.router=e,this.phoneNumber=t,this.phoneCodeHash=a,this.api=new p,this.state={confirmPhone:"",confirmCodeInput:""}}sendConfirmCode(e){e.length>0?this.state.confirmCodeInput.className=h(this.state.confirmCodeInput.className,"confirm__input_active"):this.state.confirmCodeInput.className=u(this.state.confirmCodeInput.className,"confirm__input_active"),5===e.length&&this.api.checkConfirmCode(this.phoneNumber,this.phoneCodeHash,e).then(e=>{console.log("response",e),this.router.goToRoute("im.html",()=>{(new g).render()})}).catch(e=>{"SESSION_PASSWORD_NEEDED"===e.type?this.api.getPasswordState().then(e=>{this.router.goToRoute("password.html",()=>{new y(this.router,e.current_salt).render()})}):(console.error(e),420!==e.code&&(this.state.confirmCodeInput.className=h(this.state.confirmCodeInput.className,"confirm__input_error")))})}sendCodeForNewPhone(e){this.state.confirmPhone.style.color="#000000",e!==this.phoneNumber&&this.api.sendCode(e).then(t=>{this.phoneNumber=e,this.phoneCodeHash=t.phone_code_hash}).catch(e=>{console.error(e),this.state.confirmPhone.style.color="#E53834"})}changeEventPressEnter(e){13===e.keyCode&&(this.state.confirmPhone.disabled=!0,this.sendCodeForNewPhone(this.state.confirmPhone.value)),this.state.confirmPhone.value.length>4&&(this.state.confirmPhone.style.width=`${20*this.state.confirmPhone.value.length}px`)}changeEventFocuOut(){this.state.confirmPhone.disabled=!0,this.sendCodeForNewPhone(this.state.confirmPhone.value)}changePhoneNumber(){this.state.confirmPhone.disabled=!1,this.state.confirmPhone.focus(),this.state.confirmPhone.selectionStart=this.state.confirmPhone.value.length,this.state.confirmPhone.addEventListener("focusout",()=>this.changeEventFocuOut()),this.state.confirmPhone.addEventListener("keyup",e=>this.changeEventPressEnter(e))}render(){this.state.confirmPhone=document.getElementById("confirmPhone"),this.state.confirmCodeInput=document.getElementById("confirmInput");const e=document.getElementById("confirmCode");document.getElementById("editPhoneNumber").addEventListener("click",()=>this.changePhoneNumber()),this.state.confirmPhone.value=this.phoneNumber,this.state.confirmPhone.style.width=`${20*this.state.confirmPhone.value.length}px`,this.state.confirmCodeInput.addEventListener("keyup",()=>this.sendConfirmCode(e.value))}};a(4);var j=class{constructor(e){this.router=e,this.api=new p,this.isReadyForSending=!0,this.state={countryId:"",countryInput:"",phoneNumber:"",phoneNumberInput:"",phoneNumberSendButton:"",countryArrow:""}}sendPhoneNumber(e){this.isReadyForSending&&(this.state.phoneNumberSendButton.innerText="PLEASE WAIT...",this.isReadyForSending=!1,setTimeout(()=>{this.isReadyForSending=!0,this.state.phoneNumberSendButton.innerText="NEXT"},3e3),this.api.sendCode(e).then(t=>{console.log(t),console.log("phone_registered",t.phone_registered);const a=t.phone_code_hash,o=t._;this.router.goToRoute("confirm.html",()=>{new v(this.router,e,a,o).render()})}).catch(e=>{this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_error")}))}onChangePhone(e){e.length>0?this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_active"):this.state.phoneNumberInput.className=u(this.state.phoneNumberInput.className,"login__input_active"),e.length>2?this.state.phoneNumberSendButton.className=h(this.state.phoneNumberSendButton.className,"show"):this.state.phoneNumberSendButton.className=u(this.state.phoneNumberSendButton.className,"show")}showCountriesList(){this.state.countryArrow.className=h(this.state.countryArrow.className,"active"),this.countryBox(this.state.countryId.value),document.getElementById("countriesList").className="countriesList show";const e=document.getElementById("closeZone");e.className="closeZone show",e.addEventListener("click",()=>this.hideCountriesList())}hideCountriesList(){this.state.countryArrow.className=u(this.state.countryArrow.className,"active"),document.getElementById("countriesList").className="countriesList",document.getElementById("closeZone").className="closeZone"}setCountry(e,t){this.state.countryId.value=e,this.state.phoneNumber.value=t,this.countryBox(e),this.onChangePhone(t),this.hideCountriesList()}getDefaultCountry(e){_.forEach(t=>{t.code===e&&this.setCountry(t.name,t.dial_code)})}countryBox(e){e.length>0?this.state.countryInput.className=h(this.state.countryInput.className,"login__input_active"):this.state.countryInput.className=u(this.state.countryInput.className,"login__input_active");const t=document.getElementById("countriesList");t.innerHTML="";let a=0;if(_.forEach(o=>{if(o.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1){const e=document.createElement("div");e.className="countryItem",e.innerHTML=`<div class="flag">${o.emoji?o.emoji:""}</div>\n           <div class='name'>${o.name}</div>\n           <div class='code'>${o.dial_code}</div>`,e.addEventListener("click",()=>this.setCountry(o.name,o.dial_code)),t.append(e),a++}}),0===a){const e=document.createElement("div");e.className="countryItem",e.innerHTML='<div class="name">Nothing found</div>',t.append(e)}}onFocusCountry(){this.state.countryInput.className=h(this.state.countryInput.className,"login__input_focused"),this.state.phoneNumberInput.className=u(this.state.phoneNumberInput.className,"login__input_focused"),this.showCountriesList()}onFocusPhone(){this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_focused"),this.state.countryInput.className=u(this.state.countryInput.className,"login__input_focused")}getCountryFromApi(){console.log("getCountryFromApi"),this.api.getCountry().then(e=>{console.log("response",e),this.getDefaultCountry(e.country)}).catch(e=>{console.log("error",e),setTimeout(()=>this.getCountryFromApi(),300)})}render(){this.state.countryId=document.getElementById("countryId"),this.state.countryInput=document.getElementById("countryInput"),this.state.phoneNumber=document.getElementById("phoneNumber"),this.state.phoneNumberInput=document.getElementById("phoneInput"),this.state.phoneNumberSendButton=document.getElementById("phoneNumberButton"),this.state.phoneNumber.addEventListener("keyup",()=>this.onChangePhone(phoneNumber.value)),this.state.countryId.addEventListener("keyup",()=>this.countryBox(this.state.countryId.value)),this.state.countryId.addEventListener("focusin",()=>this.onFocusCountry()),this.state.phoneNumber.addEventListener("focusin",()=>this.onFocusPhone()),this.state.phoneNumberSendButton.addEventListener("click",()=>this.sendPhoneNumber(phoneNumber.value)),this.state.countryArrow=document.getElementById("countryArrow"),this.getCountryFromApi()}};a(5);class f{constructor(){this.router={},this.api=telegramApi,this.isAuth=d.getObject("user_auth")}init(){this.api.setConfig(c),this.router=new i([new s("login","login.html"),new s("confirm","confirm.html"),new s("registration","registration.html"),new s("password","password.html"),new s("im","im.html")]),this.isAuth?this.router.goToRoute("im.html",()=>{(new g).render()}):this.router.goToRoute("login.html",()=>{new j(this.router).render()})}}(new f).init()}]);